---
title: 'ðŸ“ KDT : 04ì›” 11ì¼ìž ìˆ˜ì—… ì •ë¦¬'
summary: 'ì˜¤ëŠ˜ì€ ì˜¤ë¼í´ SQLì„ ì„¤ì¹˜í•˜ê³  SQLì— ëŒ€í•´ ê³µë¶€í–ˆìŠµë‹ˆë‹¤.'
date: 2024-04-11 11:42:00
tags: [ kdt, sql ]
---

- ì‚¬ìš©í•˜ëŠ” IDE : Eclipse 2024-03 (4.31.0)
- ì‚¬ìš©í•˜ëŠ” DBMS : Oracle Database Express Edition (XE) Release 11.2.0.2.0 (11gR2).

---

# SQLì˜ í° êµ¬ì¡°

## í…Œì´ë¸”(Table)

ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ì§‘í•©ì˜ ë‹¨ìœ„ë¡œ í”ížˆ ì•Œê³  ìžˆëŠ” "í‘œ"ì— í•´ë‹¹í•©ë‹ˆë‹¤.

## í•„ë“œ(Field)

ì—´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„° ë‹¨ìœ„ë¡œ, ì„¸ë¡œì¤„ë¡œ í‘œì‹œë©ë‹ˆë‹¤. ì™¸ì—ë„ ì†ì„±(attribute), í˜¹ì€ ì¹¼ëŸ¼(column)ì´ë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤.

## ë ˆì½”ë“œ(Record)

ì—´ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„° ë‹¨ìœ„ë¡œ, ê°€ë¡œì¤„ë¡œ í‘œì‹œë©ë‹ˆë‹¤. ì™¸ì—ë„ íŠœí”Œ(tuple), í˜¹ì€ ë¡œìš°(row)ì´ë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤.

ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” SQL(Structured Query Lanuage)ê°€ í™œìš©ë©ë‹ˆë‹¤.
SQLëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(RDBMS)ë¥¼ ìœ„í•´ ì„¤ê³„ëœ íŠ¹ìˆ˜ ëª©ì ì˜ í”„ë¡œê·¸ëž˜ë° ì–¸ì–´ìž…ë‹ˆë‹¤.

---

# SQL ë¬¸ë²•

- ì£¼ì„ë¬¸ : `--` ë˜ëŠ” `/* */`ë¥¼ í†µí•´ ì£¼ì„ì„ ìž‘ì„±í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- ëª…ë ¹ì–´ëŠ” ëŒ€ì†Œë¬¸ìžë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (í•˜ì§€ë§Œ, ëª…ë ¹ì–´ëŠ” ëŒ€ë¬¸ìžë¡œ ìž‘ì„±í•˜ëŠ” ê²ƒì´ ê´€ë¡€ìž…ë‹ˆë‹¤.)
- ëª…ë ¹ì–´ëŠ” ì„¸ë¯¸ì½œë¡ (`;`)ìœ¼ë¡œ ëë‚©ë‹ˆë‹¤.
- ëª…ë ¹ì–´ëŠ” ì—¬ëŸ¬ ì¤„ì— ê±¸ì³ ìž‘ì„±í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

---

## ì œì•½ì¡°ê±´ (Constraint)

SQLì—ëŠ” í•„ë“œì— ë“¤ì–´ê°ˆ ìˆ˜ ìžˆëŠ” ê°’ê³¼ í•„ë“œë‚˜ í…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ì œí•œí•˜ëŠ” ì œì•½ì¡°ê±´ì´ ìžˆìŠµë‹ˆë‹¤.

```sql
CREATE TABLE booklist (
    book_num VARCHAR2(5) NOT NULL PRIMARY KEY,
    ...,
);
```

ìœ„ ì²˜ëŸ¼ ì“°ëŠ” ê²½ìš°ëŠ” í•„ë“œ ìˆ˜ì¤€ì˜ ì œì•½ì¡°ê±´ì´ë¼ê³  í•˜ê³ ,

```sql
CONSTRAINT booklist_pk PRIMARY KEY (book_num)
```

ìœ„ ì²˜ëŸ¼ ì“°ëŠ” ê²½ìš°ëŠ” í…Œì´ë¸” ìˆ˜ì¤€ì˜ ì œì•½ì¡°ê±´ì´ë¼ê³  í•©ë‹ˆë‹¤.

### NOT NULL

í•„ë“œì— NULL ê°’ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ì œì•½ì¡°ê±´ìž…ë‹ˆë‹¤.
SQLì˜ NULLì€ ìžë°”ì˜ NULLê³¼ ê°™ì€ ì˜ë¯¸ìž…ë‹ˆë‹¤.

---

### ê¸°ë³¸í‚¤ (Primary Key)

SQLì—ëŠ” ê¸°ë³¸í‚¤ë¼ëŠ” ì œì•½ì¡°ê±´ì´ ìžˆìŠµë‹ˆë‹¤.
ê¸°ë³¸í‚¤ëŠ” ë°ì´ë¸”ì„ êµ¬ì„±í•˜ëŠ” í•„ë“œ ì¤‘ ê°–ëŠ” ê°’ì´ NOT NULLì´ê³ ,
ì„œë¡œ ë‹¤ë¥¸ ê°’(ìœ ì¼í•œ ê°’)ì„ ê°–ê³  ìžˆì–´ ë ˆì½”ë“œë¥¼ ì‹ë³„í•  ìˆ˜ ìžˆëŠ” í•„ë“œìž…ë‹ˆë‹¤.
í…Œì´ë¸”ì„ êµ¬ì„±í•˜ëŠ” í•„ë“œ ì¤‘ í•˜ë‚˜ë¥¼ ê¸°ë³¸í‚¤ë¡œ ì§€ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ê¸°ë³¸í‚¤ë¥¼ ì§€ì •í•¨ìœ¼ë¡œì„œ ë°œìƒí•  ìˆ˜ ìžˆëŠ” ì˜¤ë¥˜ë¥¼ ë¯¸ì—°ì— ë°©ì§€í•˜ê³  íƒìƒ‰ ì†ë„ë¥¼ ë†’íž ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ê¸°ë³¸í‚¤ë¡œ ê²°í•¨ì„ ì—†ì• ê³ , ê·¸ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì„ ê°ì²´ ë¬´ê²°ì„±ì´ë¼ê³  í•©ë‹ˆë‹¤.

---

### ì™¸ëž˜í‚¤ (Foreign Key)

SQLì—ëŠ” ì™¸ëž˜í‚¤ë¼ëŠ” ì œì•½ì¡°ê±´ì´ ìžˆìŠµë‹ˆë‹¤.
í…Œì´ë¸” ê°„ì˜ í•„ìˆ˜ í¬í•¨ ê´€ê³„ë¥¼ êµ¬ì„±í•  ë•Œì— ìƒëŒ€ í…Œì´ë¸”ì˜ íŠ¹ì • í•„ë“œê°’ì„ ì°¸ì¡°í•˜ê³ ,
ìƒëŒ€ í…Œì´ë¸”ì— ì—†ëŠ” ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë„ë¡ í•˜ëŠ” ê·œì¹™ìž…ë‹ˆë‹¤.
ì´ë•Œ ì°¸ì¡°ì˜ ëŒ€ìƒì´ ë  í•„ë“œëŠ” ê¸°ë³¸í‚¤(primary key) ë˜ëŠ” ìœ ì¼í•œ ê°’(unique)ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
ì™¸ëž˜í‚¤ë¡œ ìœ ì§€ë˜ëŠ” ë¬´ê²°ì„±ì„ ì°¸ì¡° ë¬´ê²°ì„±ì´ë¼ê³  í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `booklist` í…Œì´ë¸”ì— ì¡´ìž¬í•˜ì§€ ì•ŠëŠ” ë„ì„œì˜ ë²ˆí˜¸(`book_num`)ë¥¼
`rentlist` í…Œì´ë¸”ì˜ ë¹Œë ¤ê°„ ë„ì„œì˜ ë²ˆí˜¸ë¡œ ìž…ë ¥í•  ìˆ˜ ì—†ë„ë¡ í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.

:::info ë„ì„œëŒ€ì—¬ì ì˜ ë„ì„œëª©ë¡ê³¼ ëŒ€ì—¬ëª©ë¡ì˜ ê´€ê³„

- ë„ì„œëª©ë¡ í…Œì´ë¸”ì˜ ì´ë¦„ : booklist
- ëŒ€ì—¬ëª©ë¡ í…Œì´ë¸”ì˜ ì´ë¦„ : rentlist

| í•„ë“œ ì´ë¦„     | ìžë£Œí˜•        | ì œì•½ì¡°ê±´     |
|-----------|------------|----------|
| idx       | NUMBER(3)  |          |
| rent_date | DATE       |          |
| bnum      | VARCHAR(5) | NOT NULL |
| mnum      | VARCHAR(5) | NOT NULL |
| discount  | NUMBER(4)  |          |
| ...       | ...        | ...      |

```sql
CREATE TABLE rentlist (
    idx       NUMBER(3),                 -- ëŒ€ì—¬ë²ˆí˜¸
    rent_date DATE      DEFAULT sysdate, -- ëŒ€ì—¬ì¼ìž (ë°ì´í„° ìž…ë ¥ì‹œ í˜„ìž¬ ë‚ ì§œë¡œ ìž…ë ¥)
    bnum      VARCHAR2(5) NOT NULL,      -- ë„ì„œë²ˆí˜¸
    mnum      VARCHAR2(5) NOT NULL,      -- íšŒì›ë²ˆí˜¸
    discount  NUMBER(4) DEFAULT 500,     -- í• ì¸ì•¡  (ë°ì´í„° ë¯¸ìž…ë ¥ì‹œ 500ìœ¼ë¡œ ìž…ë ¥)
    CONSTRAINT pk PRIMARY KEY (idx),
    CONSTRAINT fk1 FOREIGN KEY (bnum) REFERENCES booklist (book_num),
    -- í˜„ìž¬ í…Œì´ë¸”ì˜ bnum í•„ë“œëŠ” booklist í…Œì´ë¸”ì˜ book_num í•„ë“œë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
    CONSTRAINT fk2 FOREIGN KEY (mnum) REFERENCES memberlist (member_num)
    -- í˜„ìž¬ í…Œì´ë¸”ì˜ mnum í•„ë“œëŠ” memberlist í…Œì´ë¸”ì˜ member_num í•„ë“œë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
);
```

:::

### ìœ ì¼ê°’ (Unique)

UNIQUEëŠ” í•„ë“œì— ì¤‘ë³µëœ ê°’ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ì œì•½ì¡°ê±´ìž…ë‹ˆë‹¤.
ê¸°ë³¸í‚¤ì™€ ìœ ì¼ê°’ì€ ë¹„ìŠ·í•˜ì§€ë§Œ, ê¸°ë³¸í‚¤ëŠ” NULLì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ë°˜ë©´, ìœ ì¼ê°’ì€ NULLì„ í—ˆìš©í•©ë‹ˆë‹¤.

### ì¡°ê±´ (Check)

CHECKëŠ” í•„ë“œì— ë“¤ì–´ê°ˆ ìˆ˜ ìžˆëŠ” ê°’ì˜ ë²”ìœ„ë¥¼ ì œí•œí•˜ëŠ” ì œì•½ì¡°ê±´ìž…ë‹ˆë‹¤.
ì œì•½ì˜ ì¡°ê±´ì—ëŠ” TRUE ë˜ëŠ” FALSEë¥¼ ë°˜í™˜í•˜ëŠ” ì¡°ê±´ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ì´ë¥¼ ì´ìš©í•´ ê°€ê²©ì´ 0 ì´ìƒì´ë¼ê±°ë‚˜, ì„±ë³„ì´ 'ë‚¨ìž' ë˜ëŠ” 'ì—¬ìž'ë¼ëŠ” ì¡°ê±´ ë“±ì„ ê±¸ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.


---

## ìžë£Œí˜• (Data Type)

### ì •ìˆ˜í˜•

- NUMBER(ìžë¦¬ìˆ˜) : ë°”ì´íŠ¸ê°€ ì•„ë‹Œ ìžë¦¬ìˆ˜ë¥¼ ìž…ë ¥í•˜ëŠ” ê²ƒì— ì£¼ì˜

### ì‹¤ìˆ˜í˜•

- NUMBER(ìžë¦¬ìˆ˜, ì†Œìˆ˜ì  ì´í•˜ ìžë¦¬ìˆ˜) : ë°”ì´íŠ¸ê°€ ì•„ë‹Œ ìžë¦¬ìˆ˜ë¥¼ ìž…ë ¥í•˜ëŠ” ê²ƒì— ì£¼ì˜

### ê°€ë³€í˜• ë¬¸ìž (ìµœëŒ€ 4000 Byte)

- VARCHAR2(ë¬¸ìžìˆ˜) : ì§€ì •í•œ ë¬¸ìžìˆ˜ë¥¼ ìµœëŒ€ í¬ê¸°ë¡œ ê°–ì§€ë§Œ, ì‹¤ì œ ë¬¸ìžìˆ˜ë§Œí¼ì˜ ê³µê°„ë§Œ ì°¨ì§€í•œë‹¤

### ê³ ì •í˜• ë¬¸ìž (ìµœëŒ€ 2000 Byte)

- CHAR(ë¬¸ìžìˆ˜) : ì§€ì •í•œ ë¬¸ìžìˆ˜ë¥¼ ìµœëŒ€ í¬ê¸°ë¡œ ê°–ê³ , ë¬¸ìžìˆ˜ ë§Œí¼ì˜ ê³µê°„ì„ ì°¨ì§€í•œë‹¤

### ê°€ë³€í˜• ìœ ë‹ˆì½”ë“œ ë¬¸ìž (ìµœëŒ€ 4000 Byte)

- NVARCHAR2(ë¬¸ìžìˆ˜) : VARCHAR2ì™€ ê°™ì§€ë§Œ, ìœ ë‹ˆì½”ë“œ ë¬¸ìžë¥¼ ì €ìž¥í•  ìˆ˜ ìžˆë‹¤

### ê³ ì •í˜• ìœ ë‹ˆì½”ë“œ ë¬¸ìž (ìµœëŒ€ 2000 Byte)

- NCHAR(ë¬¸ìžìˆ˜) : CHARì™€ ê°™ì§€ë§Œ, ìœ ë‹ˆì½”ë“œ ë¬¸ìžë¥¼ ì €ìž¥í•  ìˆ˜ ìžˆë‹¤

### ë‚ ì§œí˜•

- DATE : ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë‚ ì§œì™€ ì‹œê°„ì„ ì €ìž¥í•  ìˆ˜ ìžˆëŠ” ìžë£Œí˜• (java.sql.Dateì™€ ìœ ì‚¬)
- TIMESTAMP : DATEì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ë°€ë¦¬ì´ˆê¹Œì§€ ì €ìž¥í•  ìˆ˜ ìžˆëŠ” ìžë£Œí˜• (java.sql.Timestampì™€ ìœ ì‚¬)
- SYSDATE : DATE í˜•ì‹ì˜ í˜„ìž¬ ë‚ ì§œì™€ ì‹œê°„ì„ ë°˜í™˜í•˜ëŠ” í‚¤ì›Œë“œ
- SYSTIMESTAMP : TIMESTAMP í˜•ì‹ì˜ í˜„ìž¬ ë‚ ì§œì™€ ì‹œê°„ì„ ë°˜í™˜í•˜ëŠ” í‚¤ì›Œë“œ

### LOB (Large Object)

- ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì €ìž¥í•  ìˆ˜ ìžˆëŠ” íƒ€ìž…ì´ì§€ë§Œ, ìµœê·¼ì—ëŠ” ë³„ë„ë¡œ ì €ìž¥í•˜ê³ , ê²½ë¡œë§Œ ì €ìž¥í•˜ëŠ” ì¶”ì„¸ì´ë‹¤.
- BLOB : ì´ì§„ ë°ì´í„°
- CLOB : ë¬¸ìž ë°ì´í„°
- NCLOB : ìœ ë‹ˆì½”ë“œ ë¬¸ìž ë°ì´í„°

### ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ìžë£Œí˜•

- VARCHAR : VARCHAR2ë¡œ ëŒ€ì²´
- LONG : ìµœëŒ€ 2GBì˜ ê°€ë³€ ê¸¸ì´ ë¬¸ìží˜•
- FLOAT : NUMBERë¡œ ëŒ€ì²´ (2ì§„ìˆ˜ ê¸°ì¤€ 22ë°”ì´íŠ¸)
- BINARY_FLOAT : 32ë¹„íŠ¸ ë¶€ë™ ì†Œìˆ˜ì 
- BINARY_DOUBLE : 64ë¹„íŠ¸ ë¶€ë™ ì†Œìˆ˜ì 

---

# SQL ëª…ë ¹ì–´ì˜ ë¶„ë¥˜

## 1. DDL ëª…ë ¹ì–´ : ë°ì´í„°ë² ì´ìŠ¤ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ëŠ” ëª…ë ¹ì–´

### 1. `CREATE` : í…Œì´ë¸” ë˜ëŠ” ë·°, ì‚¬ìš©ìž ë“±ì„ ìƒì„±

```sql
CREATE TABLE table_name (
    í•„ë“œëª…1 DATATYPE [DEFAULT ê¸°ë³¸ê°’, OR ì œì•½ì¡°ê±´ ë“±],
    í•„ë“œëª…2 DATATYPE [DEFAULT ê¸°ë³¸ê°’, OR ì œì•½ì¡°ê±´ ë“±],
    ...,
    í•„ë“œëª…n DATATYPE [DEFAULT ê¸°ë³¸ê°’, OR ì œì•½ì¡°ê±´ ë“±]
);
```

:::info CREATE TABLE ì˜ ì„¸ë¶€ ê·œì¹™

1. í…Œì´ë¸”ì˜ ì´ë¦„ì€ ê°ì²´ë¥¼ ì˜ë¯¸í•  ìˆ˜ ìžˆëŠ” ì í•©í•œ ì´ë¦„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. (Javaì˜ ë³€ìˆ˜ì™€ ìœ ì‚¬í•œ ê·œì¹™)
2. ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì´ë¦„ì´ ì¤‘ë³µë˜ì§€ ì•Šê²Œ ì£¼ì˜í•©ë‹ˆë‹¤.
3. í•œ í…Œì´ë¸” ë‚´ì—ì„œë„ í•„ë“œ ì´ë¦„ì´ ì¤‘ë³µë˜ì§€ ì•Šê²Œ ì£¼ì˜í•©ë‹ˆë‹¤.
4. ê° í•„ë“œë“¤ì€ `,`ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤. ë‹¨, ë§ˆì§€ë§‰ í•„ë“œëŠ” `,`ë¥¼ ë¶™ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.
5. CREATEë¥¼ ë¹„ë¡¯í•œ ëª¨ë“  ëª…ë ¹ì–´ëŠ” `;`ë¡œ ëë‚©ë‹ˆë‹¤.
6. í•„ë“œ ì´ë¦„ ë’¤ì— DATATYPEì€ ë°˜ë“œì‹œ ì§€ì •í•˜ê³ , []ì•ˆì˜ ë‚´ìš©ì€ ìƒëžµ ê°€ëŠ¥í•©ë‹ˆë‹¤.
7. ì˜ˆì•½ì–´ ëª…ë ¹ì–´ ë“±ì„ í…Œì´ë¸” ì´ë¦„ê³¼ í•„ë“œ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
8. í…Œì´ë¸” ìƒì„±ì‹œ ëŒ€ì†Œë¬¸ìžë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
9. ë³´í†µì€ ë°ì´í„° í˜•ì‹ê³¼ ìš©ëŸ‰ì„ ì§€ì •í•˜ëŠ”ë°, DATE í˜•ì‹ì€ ë³„ë„ë¡œ í¬ê¸°ë¥¼ ì§€ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
10. ë¬¸ìžë°ì´í„°ì˜ DATATYPEì€ VARCHAR2(10), NUMBERì˜ DATATYPEì€ NUMBER(10) ë“±ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤.
11. í•„ë“œì˜ í¬ê¸°ëŠ” ë°˜ë“œì‹œ ê°€ì§ˆ ìˆ˜ ìžˆëŠ” ìµœëŒ€ì˜ ê¸¸ì´ë¡œ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.
12. ìˆ«ìž ë°ì´í„° í˜•ì‹ì˜ ê²½ìš° ë°”ì´íŠ¸ê°€ ì•„ë‹ˆë¼ ìžë¦¬ìˆ˜ë¥¼ ì§€ì •í•œë‹¤ëŠ” ê²ƒì„ ì£¼ì˜í•©ë‹ˆë‹¤.

:::

:::info ë„ì„œëŒ€ì—¬ì ì˜ ë„ì„œëª©ë¡ í…Œì´ë¸”ì˜ ìƒì„±

í…Œì´ë¸” ì´ë¦„ : booklist

| í•„ë“œ ì´ë¦„    | ìžë£Œí˜•    | ì œì•½ì¡°ê±´     |
|----------|--------|----------|
| book_num | ë¬¸ìž 5ìž  | NOT NULL |
| subject  | ë¬¸ìž 30ìž | NOT NULL |
| makeyear | ìˆ«ìž 4ìž  |          |
| inprice  | ìˆ«ìž 6ìž  |          |
| outprice | ìˆ«ìž 6ìž  |          |

```sql
CREATE TABLE booklist (
    book_num VARCHAR2(5) NOT NULL,
    subject VARCHAR2(30) NOT NULL,
    makeyear NUMBER(4),
    inprice NUMBER(6),
    outprice NUMBER(6)
);
```

ì—¬ê¸°ì„œ ë¬¸ìžì—´ì„ ë‹´ëŠ” ìžë£Œí˜•ì¸ `CHAR`ì€ ë¬´ì¡°ê±´ ê³ ì •ëœ í¬ê¸°ë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤.
ì´ë¥¼ ëŒ€ì‹ í•´ì„œ ì‚¬ìš©ë˜ëŠ” `VARCHAR`ì€ ë¶ˆí•„ìš”í•œ ê³µê°„ì„ ì°¨ì§€í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ìž¥ì ì´ ìžˆìŠµë‹ˆë‹¤.
ì˜¤ë¼í´ì—ì„  ë³´ë‹¤ ë” ì¢‹ì€ ì„±ëŠ¥ì„ ê°€ì§„ `VARCHAR2`ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

ì£¼ì˜í•  ì ì€ `NUMBER(4)`ì˜ 4ëŠ” 4ë°”ì´íŠ¸ê°€ ì•„ë‹Œ 4ìžë¦¬ ìˆ«ìžë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
ë”°ë¼ì„œ `NUMBER(4)`ëŠ” -9999ë¶€í„° 9999ê¹Œì§€ì˜ ìˆ«ìžë¥¼ ì €ìž¥í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

:::

:::info íšŒì›ë¦¬ìŠ¤íŠ¸ì˜ í…Œì´ë¸” ìƒì„±

í…Œì´ë¸” ì´ë¦„ : memberlist

| í•„ë“œ ì´ë¦„       | ìžë£Œí˜•         | ì œì•½ì¡°ê±´                                           |
|-------------|-------------|------------------------------------------------|
| member_num  | VARCHAR(5)  | NOT NULL : í•„ë“œ ë ˆë²¨ë¡œ ì„¤ì •, PRIMARY KEY : í…Œì´ë¸” ë ˆë²¨ë¡œ ì„¤ì • |
| member_name | VARCHAR(12) | NOT NULL : í•„ë“œ ë ˆë²¨ë¡œ ì„¤ì •                           |
| Phone       | VARCHAR(13) | NOT NULL : í•„ë“œ ë ˆë²¨ë¡œ ì„¤ì •                           |
| birth       | DATE        |                                                |
| bpoint      | NUMBER(6)   |                                                |

```sql
CREATE TABLE memberlist (
    member_num VARCHAR2(5) NOT NULL,
    member_name VARCHAR2(12) NOT NULL,
    phone VARCHAR2(13) NOT NULL,
    birth DATE,
    bpoint NUMBER(6),
    CONSTRAINT member_pk PRIMARY KEY (member_num)
);
```

:::

### 2. `DROP` : ì´ë¯¸ ìƒì„±ë˜ì–´ ìžˆëŠ” í…Œì´ë¸” ë˜ëŠ” ë·°, ì‚¬ìš©ìž ë“±ì„ ì‚­ì œ

```sql
DROP TABLE table_name;
```

:::info ë„ì„œëŒ€ì—¬ì ì˜ ë„ì„œëª©ë¡ í…Œì´ë¸”ì˜ ì‚­ì œ

```sql
DROP TABLE booklist;
```

:::

### 3. `ALTER` : ì´ë¯¸ ìƒì„±ë˜ì–´ ìžˆëŠ” í…Œì´ë¸” ë˜ëŠ” ë·°, ì‚¬ìš©ìž ë“±ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½

```sql
ALTER TABLE table_name ADD í•„ë“œëª… DATATYPE;
ALTER TABLE table_name MODIFY í•„ë“œëª… DATATYPE;
ALTER TABLE table_name DROP COLUMN í•„ë“œëª…;
```

:::info ë„ì„œëŒ€ì—¬ì ì˜ ë„ì„œëª©ë¡ í…Œì´ë¸”ì˜ ìˆ˜ì •

```sql
ALTER TABLE booklist ADD pub VARCHAR2(20);
ALTER TABLE booklist MODIFY inprice NUMBER(7);
ALTER TABLE booklist DROP COLUMN makeyear;
```

:::

## 2. DML ëª…ë ¹ì–´ : ë°ì´í„°ë¥¼ ì¡°ìž‘í•˜ëŠ” ëª…ë ¹ì–´

### 1. `SELECT` : í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ëª…ë ¹ì–´

```sql
SELECT í•„ë“œëª…1, í•„ë“œëª…2, ... FROM í…Œì´ë¸”ëª…;
```

:::info ë„ì„œëŒ€ì—¬ì ì˜ ë„ì„œëª©ë¡ í…Œì´ë¸”ì˜ ì¡°íšŒ

```sql
SELECT * FROM booklist;
```

:::

### 2. `INSERT` : í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì‚½ìž…í•˜ëŠ” ëª…ë ¹ì–´

### 3. `UPDATE` : í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ëª…ë ¹ì–´

### 4. `DELETE` : í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ëª…ë ¹ì–´

## 3. DCL ëª…ë ¹ì–´ : ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ëª…ë ¹ì–´

### 1. `GRANT` : íŠ¹ì • ì‚¬ìš©ìžì—ê²Œ íŠ¹ì • ê¶Œí•œì„ ë¶€ì—¬

### 2. `REVOKE` : íŠ¹ì • ì‚¬ìš©ìžì—ê²Œ íŠ¹ì • ê¶Œí•œì„ ë°•íƒˆ

---

# ì‹œí€€ìŠ¤ (Sequence)

ì‹œí€€ìŠ¤ëŠ” í…Œì´ë¸” ë‚´ì˜ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìˆ«ìžë¥¼ ìžë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ìžë™ ë²ˆí˜¸ ë°œìƒê¸°ìž…ë‹ˆë‹¤.
í…Œì´ë¸” ìƒì„± í›„ ì‹œí€€ìŠ¤ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.

## ìƒì„± ë°©ë²•

ì£¼ë¡œ NUMBER í˜•ì‹ì˜ ê¸°ë³¸ í‚¤ê°’ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

```sql
CREATE SEQUENCE ì‹œí€€ìŠ¤ëª… START WITH ì‹œìž‘ê°’ INCREMENT BY ì¦ê°€ê°’;
```

```sql
CREATE SEQUENCE book_seq START WITH 1 INCREMENT BY 1;
```

---

## ì‚¬ìš© ë°©ë²•

```sql
INSERT INTO í…Œì´ë¸”ëª… (ê¸°ë³¸í‚¤, ...) VALUES (ì‹œí€€ìŠ¤ëª….NEXTVAL, ...);
```

```sql
INSERT INTO booklist VALUES (book_seq.NEXTVAL, 'ìŠ¤í”„ë§ ë¶€íŠ¸ 3', 2024, 21000, 27000);
```

---

## ì‹œí€€ìŠ¤ ì‚­ì œ

```sql
DROP SEQUENCE ì‹œí€€ìŠ¤ëª…;
```

```sql
DROP SEQUENCE book_seq;
```

---

# ë·° (View)

ë·°ëŠ” í•˜ë‚˜ ì´ìƒì˜ í…Œì´ë¸”ë¡œë¶€í„° ìœ ë„ëœ ê°€ìƒ í…Œì´ë¸”ìž…ë‹ˆë‹¤.
ë·°ëŠ” ë°ì´í„°ë¥¼ ì €ìž¥í•˜ì§€ ì•Šì§€ë§Œ, í…Œì´ë¸”ê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## ìƒì„± ë°©ë²•

```sql
CREATE VIEW ë·°ëª… AS SELECT í•„ë“œëª…1, í•„ë“œëª…2, ... FROM í…Œì´ë¸”ëª… WHERE ì¡°ê±´;
```

```sql
CREATE VIEW bookview AS SELECT book_num, subject FROM booklist WHERE makeyear > 2010;
```

---

## ë·° ì‚­ì œ

```sql
DROP VIEW ë·°ëª…;
```

```sql
DROP VIEW bookview;
```

---


:::info ì˜ˆì œ í…Œì´ë¸” ë§Œë“¤ê¸°

- í…Œì´ë¸” ì´ë¦„ : orders1

| í•„ë“œ ì´ë¦„        | ìžë£Œí˜•          | ì œì•½ì¡°ê±´                                                   |
|--------------|--------------|--------------------------------------------------------|
| order_id     | NUMBER(12,0) | ê¸°ë³¸í‚¤ (í…Œì´ë¸”ë ˆë²¨, ì œì•½ëª… : pk_order)                            |
| order_date   | DATE         | ê¸°ë³¸ê°’ì€ ì˜¤ëŠ˜ ë‚ ì§œ                      (í•„ë“œë ˆë²¨)                 |
| order_mode   | VARCHAR2(8)  | 'direct'ì™€ 'online'ë§Œ ìž…ë ¥ ê°€ëŠ¥ (í…Œì´ë¸”ë ˆë²¨, ì œì•½ëª… : ck_order_mode) |
| order_status | NUMBER(2,0)  |                                                        |
| order_total  | NUMBER(8,2)  | ê¸°ë³¸ê°’ì€ 0 (í•„ë“œë ˆë²¨)                                          |
| sales_rep_id | NUMBER(6,0)  |                                                        |
| promotion_id | NUMBER(6,0)  |                                                        |

```sql
CREATE TABLE orders1 (
    order_id NUMBER(12,0),
    order_date DATE DEFAULT SYSDATE,
    order_mode VARCHAR2(8),
    order_status NUMBER(2,0),
    order_total NUMBER(8,2) DEFAULT 0,
    customer_id NUMBER(6,0),
    sales_rep_id NUMBER(6,0),
    promotion_id NUMBER(6,0),
    CONSTRAINT pk_order PRIMARY KEY (order_id),
    CONSTRAINT ck_order_mode CHECK (order_mode IN ('direct', 'online'))
);
```

- customer_id í•„ë“œëª…ì„ customer_number ë¡œ ë³€ê²½

```sql
ALTER TABLE orders1 RENAME COLUMN customer_id TO customer_number;
```

- promotion_id í•„ë“œì˜ ê°’ì€ 10000ì—ì„œ 99999 ì‚¬ì´ì˜ ê°’ë§Œ í—ˆìš©

```sql
ALTER TABLE orders1 ADD CONSTRAINT ck_promotion_id CHECK promotion_id >= 10000 AND promotion_id <= 99999);
-- í˜¹ì€ BETWEEN ì‚¬ìš©
ALTER TABLE orders1 ADD CONSTRAINT ck_promotion_id CHECK (promotion_id BETWEEN 10000 AND 99999);
```

- orders1 í…Œì´ë¸”ì„ orders2ë¡œ ë³µì‚¬

```sql
CREATE TABLE orders2 AS SELECT * FROM orders1;
```

:::

---


:::info booklist í…Œì´ë¸”ì— ì‹œí€€ìŠ¤ ë“±ë¡í•˜ê¸°

```sql
CREATE SEQUENCE book_seq START WITH 1 INCREMENT BY 1;

INSERT INTO booklist VALUES (book_seq.NEXTVAL, 'ìŠ¤í”„ë§ ë¶€íŠ¸ 3 ë°±ì—”ë“œ', 2024, 21000, 27000);
INSERT INTO booklist VALUES (book_seq.NEXTVAL, 'ì½”ë”© ìžìœ¨í•™ìŠµ', 2024, 22000, 29700);
INSERT INTO booklist VALUES (book_seq.NEXTVAL, 'ê°ì²´ ì§€í–¥ì˜ ì›ë¦¬', 2024, 15000, 22500);
INSERT INTO booklist VALUES (book_seq.NEXTVAL, 'ìžë°” í‘œì¤€ í”„ë¡œê·¸ëž˜ë°', 2024, 30000, 38700);
```

- ì‹œí€€ìŠ¤ ìµœëŒ€ ì¦ê°€ê°’ì„ 14ê¹Œì§€ë¡œ ì œí•œ

```sql
ALTER SEQUENCE book_seq MAXVALUE 14;
```

- ì‹œí€€ìŠ¤ ì‚­ì œ

```sql
DROP SEQUENCE book_seq;
```

- ì‹œí€€ìŠ¤ ìž¬ìƒì„±

```sql
CREATE SEQUENCE book_seq START WITH 15 INCREMENT BY 1;
```

- 1ë¶€í„° 1ì”© ì¦ê°€í•˜ëŠ” member_seq, rent_seq ì‹œí€€ìŠ¤ ìƒì„±

```sql
CREATE SEQUENCE member_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE rent_seq START WITH 1 INCREMENT BY 1;
```

:::
